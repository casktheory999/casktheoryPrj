@use './variables/' as *;

.eventDetailPage {
    position: relative;
    background-color: $pri-white;
    color: $pri-dark;
    max-width: 1200px;
    margin: 56px auto 0;
    padding: 0 15px 15px;
    box-sizing: border-box;


    /* ========== Hero ========== */
    .a_heroSection {
        margin-bottom: 20px;

        .a_heroBanner {
            position: relative;

            .a_heroImg {
                width: 100%;
                display: block;
                aspect-ratio: 16 / 9;
                object-fit: cover;
                object-position: center;
            }

            .a_heroRibbon {
                position: absolute;
                left: 0;
                right: 0;
                bottom: 0;
                width: 100%;
                text-align: center;
                font-size: clamp(14px, 1.2vw, 20px);
                letter-spacing: 1.5em;
                color: $pri-white;
                background: $sec-gray;
                padding: 10px 8px;

                @media ($mediaMd) {
                    letter-spacing: 0.8em;
                }

                @media ($mediaSm) {
                    letter-spacing: 0.5em;
                }
            }
        }

        .heroMeta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin: 12px 0 8px;
            flex-wrap: wrap;

            .heroChips,
            .heroStats {
                list-style: none;
                padding: 0;
                margin: 0;
                display: flex;
                gap: 8px;
            }

            .heroChips {
                flex-wrap: wrap;

                .chip {
                    display: inline-block;
                    padding: 6px 12px;
                    background: $sec-peggy;
                    color: $pri-white;
                    border-radius: 999px;
                    font-size: 14px;

                    @media ($mediaSm) {
                        padding: 5px 10px;
                        font-size: 13px;
                    }
                }
            }

            .heroStats {
                gap: 16px;
                padding-right: 84px;
                margin-left: auto;
                /* 保持靠右 */
                color: $sec-gray;
                font-size: 14px;

                @media ($mediaSm) {
                    font-size: 13px;
                }
            }
        }

        .heroTitle {
            font-size: clamp(20px, 2.4vw + 8px, 40px);
            font-weight: 700;
            margin: 6px 0 0;
            line-height: 1.25;

            @media ($mediaSm) {
                line-height: 1.3;
            }
        }
    }

 /* ========== 活動資訊區 ========== */
.a_infoSection {
  display: flex;
  flex-direction: column; // 這層只是包住一個 block，先直向疊好
  gap: 40px;

  .a_infoBlock {
    display: flex;
    justify-content: space-between;
    align-items: stretch; // 關鍵：讓左右兩欄等高
    gap: 70px;

    .a_infoCard {
      position: relative;
      flex: 1 1 0;
      /* 取消固定高度，讓內容自己長，避免被裁切 */
      /* height: 290px;  << 移除 */
      border: 2px solid $pri-dark;
      padding: 20px 65px 10px 65px; // 上右下左
      box-sizing: border-box;

      .a_blockTitle {
        position: absolute;
        top: -16px;      // 壓在線上
        left: 70px;      // 與內文視覺對齊
        background: $pri-white;
        padding: 0 6px;
        line-height: 1;
        font-size: 24px;
        font-weight: 700;
        margin: 0;
      }

      p,
      .a_textBox {
        line-height: 1.8;
        margin: 0 0 0.75em;
        /* 避免長字撐破 */
        word-wrap: break-word;
        overflow: visible; // 明確不裁切
      }

      p:last-child,
      .a_textBox:last-child {
        margin-bottom: 0;
      }
    }

    .a_photoBlock1 {
      flex: 1 1 0;
      margin: 0;
      display: flex;         // 讓內部 img 能用 height:100% 撐滿
      align-items: stretch;  // 等高
      /* 不固定容器高度，由左側文字決定整列高度 */
      /* height: 290px; << 移除 */

      .a_photo {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: cover;   // 保持比例裁切
        min-height: 220px;   // 給一個合理下限，避免文字太少時過扁
      }
    }
  }

  /* < 970px：改直排 */
  @media (#{$mediaMd}) {
    .a_infoBlock {
      flex-direction: column;
      gap: 24px;

      .a_infoCard {
        padding: 20px; // 手機縮小內距
        .a_blockTitle { left: 20px; }
      }

      .a_photoBlock1 .a_photo {
        height: auto;        // 直排時用圖片原比例
        aspect-ratio: 16 / 9;
        min-height: 0;       // 解除下限
      }
    }
  }
}


/* ========== 活動簡介區 ========== */
.a_introSection {
  .a_introBlock {
    margin: 50px 0;
    display: flex;
    justify-content: space-between;
    align-items: stretch; // 等高
    gap: 70px;

    .a_photoBlock2 {
      flex: 1 1 0;
      margin: 0;
      display: flex;

      .a_photo {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: cover;
        min-height: 220px;
      }
    }

    .a_introCard {
      position: relative;
      flex: 1 1 0;
      border: 2px solid $pri-dark;
      padding: 20px 65px;
      box-sizing: border-box;

      .a_blockTitle {
        position: absolute;
        top: -16px;
        left: 70px;
        background: $pri-white;
        padding: 0 8px;
        line-height: 1;
        font-size: 24px;
        font-weight: 700;
        margin: 0;
      }

      p,
      .a_textBox {
        line-height: 1.8;
        margin: 6px 0;
        overflow: visible;  // 明確不裁切
        word-wrap: break-word;
      }
    }
  }

  /* < 970px：改直排 */
  @media (#{$mediaMd}) {
    .a_introBlock {
      flex-direction: column-reverse;

      gap: 24px;

      .a_introCard {
        padding: 20px;
        .a_blockTitle { left: 20px; }
      }

      .a_photoBlock2 .a_photo {
        height: auto;
        aspect-ratio: 16 / 9;
        min-height: 0;
      }
    }
  }
}



    /* ========== 地圖 + 交通（兩欄） ========== */
    .a_mapSection {
        display: flex;
        align-items: stretch;
        gap: 70px;
        margin-bottom: 50px;
        padding: 8px 0 32px;
        box-sizing: border-box;
        flex-direction: row;

        @media ($mediaMd) {
            flex-direction: column; // 小螢幕改直排
            gap: 24px;
        }

        >* {
            min-width: 0;
            box-sizing: border-box;
        }

        .a_mapBlock {
            position: relative;
            flex: 0 1 60%;
            display: flex;
            border: 2px solid $pri-dark;
            background: $pri-white;
            padding: 16px;

            .a_blockTitle {
                position: absolute;
                top: -16px; // 壓在外框上方
                left: 20px; // 與內文對齊
                background: $pri-white; // 遮掉外框線
                padding: 0 8px;
                line-height: 1;
                font-size: 24px;
                font-weight: 700;
            }

            .mapCard {
                flex: 1;
                display: block;

                .a_mapIframe {
                    width: 100%;
                    height: 100%;
                    border: 0;
                    display: block;
                }
            }
        }

        .a_trafficCard {
            flex: 0 1 40%;
            display: flex;
            position: relative;
            border: 2px solid $pri-dark;
            padding: 20px 50px;

            .a_blockTitle {
                position: absolute;
                top: -16px; // 壓在外框上方
                left: 70px; // 與內文對齊
                background: $pri-white; // 遮掉外框線
                padding: 0 6px;
                line-height: 1;
                font-size: 24px;
                font-weight: 700;
            }

            .a_textBox {
                flex: 1;
                /* 讓文字區塊把容器撐滿 */
            }

            p {
                line-height: 1.8;
                margin: 6px 0;
            }
        }

        /* RWD：小螢幕改直排 */
        @media (#{$mediaSm}) {
            flex-direction: column;
            gap: 24px;

            .a_mapBlock,
            .a_trafficCard {
                flex: 0 1 auto;
                padding: 16px 20px;
            }

            .a_mapBlock .blockTitle {
                left: 20px;
            }

            .a_trafficCard .blockTitle {
                left: 20px;
            }

            /* 手機可固定 iframe 高度，避免太高 */
            .a_mapBlock .a_mapIframe {
                height: 300px;
            }
        }
    }
}



/* ========== 推薦區（卡片列表） ========== */
.eventDetailRecommendSection {
    padding: 8px 0 48px;

    .eventDetailRecommendTitle {
        font-size: 24px;
        font-weight: 700;
    }

    .a_recList {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        gap: 24px; // 卡片間距
        justify-content: space-between;
        flex-wrap: nowrap; // 預設不換行（桌機 3 欄）
        flex-direction: row;

        /* 平板：2 欄 */
        @media ($mediaMd) {
            flex-wrap: wrap; // 允許換行
            justify-content: space-between;

            .a_recCard {
                flex: 1 1 calc(50% - 12px); // 兩欄（扣掉 gap 一半）
                max-width: calc(50% - 12px);
            }
        }

        /* 手機：1 欄 */
        @media ($mediaSm) {
            flex-direction: column; // 直排
            flex-wrap: nowrap; // 不需要換行了
            gap: 16px; // 手機縮小一點間距

            .a_recCard {
                flex: 1 1 100%;
                max-width: 100%;
            }
        }
    }

    .a_recCard {
        flex: 1 1 30%;
        border: 1px solid #e6e6e6;
        overflow: hidden;
        background: $pri-white;
        display: flex;
        flex-direction: column;
        text-decoration: none; // 移除 Link 預設樣式
        color: inherit;

        .a_recCardImage {
            width: 100%;
            display: block;
            object-fit: cover;
            aspect-ratio: 4/3;
        }

        .a_recCardBody {
            flex: 1 1 auto;
            padding: 12px 14px;

            .a_recCardMeta {
                font-size: 12px;
                color: $sec-gray;
                margin-bottom: 6px;
            }

            .a_recCardTitle {
                font-size: 14px;
                font-weight: 700;
                line-height: 1.4;
                margin-bottom: 8px;
            }
        }

        .a_recCardFooter {
            display: flex;
            align-items: center;
            gap: 10px;
            color: $sec-gray;
            padding: 0 14px 12px;

            .a_recCardTag {
                background: $sec-peggy;
                color: $pri-white;
                padding: 2px 8px;
                border-radius: 999px;
                font-size: 12px;
                margin-right: auto;
                /* 將統計推到右側 */
            }

            .a_recCardStats {
                display: flex;
                gap: 10px;

                .a_recCardStat {
                    font-size: 12px;
                    display: flex;
                    align-items: center;
                    gap: 4px;
                }
            }
        }
    }
}